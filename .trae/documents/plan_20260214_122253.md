# 同步侧边栏与标签页导航 (Sync Sidebar and Tab Navigation)

我将实施一个全面的导航同步方案，不仅解决侧边栏与顶部标签页的联动问题，还将采纳并实现关键的用户体验改进建议（状态持久化、面包屑导航）。

## 详细实施计划

### 1. 核心导航重构 (Core Navigation Refactor)
*   **重构 `sidebarItems` 数据结构**:
    *   为每个一级菜单项添加 `value` 字段，直接对应 `TabsContent` 的 `value` (home, apps, files, projects, learn)。
    *   **映射关系**:
        *   "首页" -> `value: "home"`
        *   "应用" -> `value: "apps"`
        *   "文件" -> `value: "files"`
        *   "项目" -> `value: "projects"`
        *   "学习" -> `value: "learn"`
        *   "回收报价" (子菜单项) -> `value: "recycling"`
*   **实现双向同步逻辑**:
    *   **侧边栏点击事件**:
        *   点击一级菜单（如“应用”）：`setActiveTab("apps")`，如果该菜单有子项 (`items`)，自动展开 (`expandedItems`)。
        *   点击子菜单（如“回收报价”）：`setActiveTab("recycling")`，同时确保父级菜单保持高亮。
    *   **高亮状态同步**:
        *   修改侧边栏渲染逻辑，不再读取静态的 `isActive` 属性，改为动态判断 `activeTab === item.value`。
        *   对于子菜单项的高亮：`activeTab === subItem.value`。
*   **移动端体验优化**:
    *   在移动端点击侧边栏导航时，除了切换 Tab，还应自动关闭侧边栏菜单 (`setMobileMenuOpen(false)`)。

### 2. 状态持久化 (State Persistence)
*   **URL 参数同步**:
    *   利用 `useSearchParams` 钩子读取 URL 中的 `?tab=xxx` 参数来设置初始 `activeTab`。
    *   当 `activeTab` 变化时，更新 URL 参数 (使用 `window.history.replaceState` 避免页面刷新)。
    *   这样用户刷新页面后，依然停留在当前的标签页，而不是重置回“首页”。

### 3. 面包屑导航 (Breadcrumbs)
*   **动态生成面包屑**:
    *   在 Header 区域添加面包屑组件。
    *   根据当前的 `activeTab` 动态计算并显示路径（例如：`首页 > 应用 > 回收报价`）。
    *   面包屑项可点击，点击后跳转到对应的 Tab。

### 4. 键盘快捷键 (Keyboard Shortcuts)
*   **绑定快捷键**:
    *   为常用模块绑定快捷键（如 `Cmd+1` 切换到首页，`Cmd+2` 切换到应用），提升专业用户的效率。
    *   在界面上（如 Tooltip 中）提示快捷键。

## 预期效果
无论用户点击侧边栏的“文件”，还是顶部标签栏的“文件”，两个导航区域都会同步高亮，且内容区正确显示“文件”模块。URL 会随之变化，刷新页面状态不丢失。面包屑清晰展示当前位置，且支持键盘快速切换。